from work_QA 一.Q4

## 3) 复现他人模型，要掌握到哪种程度才算“能自如调用并开发自己的项目”？

给你一个**五级能力阶梯**（目标：至少到 **L3**，最好冲 **L4**）：

* **L1——能跑**：在作者环境版本下，**原脚本无改动跑通**，得到同等量级指标/产物。
  产物：运行日志、版本清单、固定随机种子。

* **L2——能喂数据**：把**你自己的数据**换进去，**IO 契约不变**（列名/shape/单位/索引）。
  产物：数据校验脚本（断言样本数、维度、索引一致），最小可复现曲线。

* **L3——能插拔模块**（你现在正在做的事）
  在**不破坏训练脚本**的前提下，**只改“构图/特征提取”环节**（比如把 NBO 8 维节点特征拼接进去）。
  产物：

  * 明确 **插拔点**（函数签名、输入输出）；
  * **特征字典** `features_spec.json`；
  * **断言**（节点/边集合等价、特征维度稳定）。

* **L4——能重构**：把数据管线、训练、调参、解释器模块化（package 化/CLI 化），**任意组合**。
  产物：CLI 命令、`configs/*.yaml`、`Makefile`/`tox`/`pytest`、Optuna DB。

* **L5——能迁移/改进**：读懂方法假设，**替换/增加模型结构或损失**，并做**公平对比**（数据切分/指标一致）。
  产物：ablation 表、统计显著性、误差分解。

**一页“最低可自如调用”清单（今天能照抄就能用）：**

* ✅ **环境可复现**：`requirements.txt / env.yaml` + `pip freeze > logs/req.txt`
* ✅ **IO 合同**：写清楚 `Data(x, edge_index, edge_attr, y)` 的 **维度/单位/索引来源**
* ✅ **三条断言**：

  1. `len(nodes_rdkit) == len(nodes_features)`
  2. `set(edges_rdkit) == set(edges_features)`（重–重按 `(min,max)`）
  3. 训练前/后 **特征维度恒定**（批内一致）
* ✅ **最小可跑脚本**：`python scripts/train.py --config configs/bde.yaml`
* ✅ **一页 README**：怎么准备数据、怎么训练、产出放哪儿（路径/文件名约定）


